(function(t,c){typeof exports=="object"&&typeof module<"u"?c(exports,require("react"),require("cesium"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","cesium","react-dom"],c):(t=typeof globalThis<"u"?globalThis:t||self,c(t.Resium={},t.React,t.Cesium,t.ReactDOM))})(this,function(t,c,r,me){"use strict";var xi=Object.defineProperty;var eo=(t,c,r)=>c in t?xi(t,c,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[c]=r;var M=(t,c,r)=>(eo(t,typeof c!="symbol"?c+"":c,r),r);const U=c.createContext({}),{Provider:he,Consumer:x}=U,B=()=>c.useContext(U)||{},O=(i,e)=>{const o=n=>{const s=B(),l=c.useRef(),h=c.useRef(!1);return c.useEffect(()=>()=>{s.camera&&n.cancelFlightOnUnmount&&s.camera.cancelFlight()},[s.camera,n.cancelFlightOnUnmount]),c.useEffect(()=>{s.camera&&s.scene&&!s.scene.isDestroyed()&&(!n.once||!h.current)&&(s.camera.cancelFlight(),e(s.camera,n,l.current),h.current=!0),l.current=n}),null};return o.displayName=i,o};function ee(i,e){return e?W(i).reduce((o,[n,s])=>(G(e,n)&&(o[n]=s),o),{}):{}}function W(i){return Object.keys(i).map(e=>[e,i[e]])}function G(i,e){return!!i&&i.indexOf(e)!==-1}function ie(i,e){return!!i&&!!e&&[...Object.keys(i),...Object.keys(e)].every(o=>i[o]===e[o])}function oe(i){return i&&typeof i.isDestroyed=="function"&&typeof i.destroy=="function"}function ne(i){return oe(i)&&i.isDestroyed()}const T="__RESIUM_EVENT_MANAGER",z=["onClick","onDoubleClick","onMouseDown","onMouseUp","onMiddleClick","onMiddleDown","onMiddleUp","onMouseMove","onPinchEnd","onPinchMove","onPinchStart","onRightClick","onRightDown","onRightUp","onWheel","onMouseEnter","onMouseLeave"],K=class{constructor(e){M(this,"scene");M(this,"sshe");M(this,"events",{onClick:new Map,onDoubleClick:new Map,onMouseDown:new Map,onMouseUp:new Map,onMiddleClick:new Map,onMiddleDown:new Map,onMiddleUp:new Map,onMouseMove:new Map,onPinchEnd:new Map,onPinchMove:new Map,onPinchStart:new Map,onRightClick:new Map,onRightDown:new Map,onRightUp:new Map,onWheel:new Map,onMouseEnter:new Map,onMouseLeave:new Map});M(this,"hovered");M(this,"onMouseMove",e=>{var n,s,l,h,p,u;const o=this.pick(e.endPosition);this.hovered!==o&&(this.hovered&&((n=this.getEventCallback("onMouseLeave",this.hovered))==null||n(e,this.hovered),(s=this.getEventCallback("onMouseLeave",null))==null||s(e,this.hovered)),o&&((l=this.getEventCallback("onMouseEnter",o))==null||l(e,o),(h=this.getEventCallback("onMouseEnter",null))==null||h(e,o))),o&&((p=this.getEventCallback("onMouseMove",o))==null||p(e,o)),(u=this.getEventCallback("onMouseMove",null))==null||u(e,o),this.hovered=o});M(this,"eventCallback",e=>o=>{var s,l;const n=this.pick(o==null?void 0:o.position);n&&((s=this.getEventCallback(e,n))==null||s(o,n)),(l=this.getEventCallback(e,null))==null||l(o,n)});this.scene=e,this.sshe=new r.ScreenSpaceEventHandler(e==null?void 0:e.canvas)}destroy(){this.hovered=void 0,this.sshe.isDestroyed()||this.sshe.destroy()}isDestroyed(){return this.sshe.isDestroyed()}on(e,o,n){e&&o==="onWheel"||this.events[o].set(e,n)}off(e,o){this.events[o].delete(e),this.hovered===e&&(this.hovered=void 0)}setEvents(e,o){W(o).forEach(([n,s])=>{const l=n;G(z,l)&&(s?this.on(e,l,s):this.off(e,l))}),this.commit()}clearEvents(e){this.hovered=void 0,z.forEach(o=>{this.off(e,o)}),this.commit()}commit(){const e=this.sshe,o=this.sshe.isDestroyed();o||(this.events.onMouseEnter.size===0&&this.events.onMouseLeave.size===0&&this.events.onMouseMove.size===0?this.sshe.removeInputAction(r.ScreenSpaceEventType.MOUSE_MOVE):this.sshe.getInputAction(r.ScreenSpaceEventType.MOUSE_MOVE)||this.sshe.setInputAction(this.onMouseMove,r.ScreenSpaceEventType.MOUSE_MOVE)),W(this.events).forEach(([n,s])=>{if(n==="onMouseEnter"||n==="onMouseLeave"||n==="onMouseMove")return;const l=K.eventTypeMap[n];o||(s.size===0?e.removeInputAction(l):e.getInputAction(l)||e.setInputAction(this.eventCallback(n),l))})}getScreenSpaceEventHandler(){return this.sshe}getEventCallback(e,o){var n,s;return o===null?this.events[e].get(null):this.events[e].get(o.id)||this.events[e].get((s=(n=o.id)==null?void 0:n.entityCollection)==null?void 0:s.owner)||this.events[e].get(o.primitive)||this.events[e].get(o.tileset)}pick(e){var o;if(!!e)return(o=this.scene)==null?void 0:o.pick(e)}};let R=K;M(R,"eventTypeMap",{onClick:r.ScreenSpaceEventType.LEFT_CLICK,onDoubleClick:r.ScreenSpaceEventType.LEFT_DOUBLE_CLICK,onMouseDown:r.ScreenSpaceEventType.LEFT_DOWN,onMouseUp:r.ScreenSpaceEventType.LEFT_UP,onMiddleClick:r.ScreenSpaceEventType.MIDDLE_CLICK,onMiddleDown:r.ScreenSpaceEventType.MIDDLE_DOWN,onMiddleUp:r.ScreenSpaceEventType.MIDDLE_UP,onMouseMove:r.ScreenSpaceEventType.MOUSE_MOVE,onPinchEnd:r.ScreenSpaceEventType.PINCH_END,onPinchMove:r.ScreenSpaceEventType.PINCH_MOVE,onPinchStart:r.ScreenSpaceEventType.PINCH_START,onRightClick:r.ScreenSpaceEventType.RIGHT_CLICK,onRightDown:r.ScreenSpaceEventType.RIGHT_DOWN,onRightUp:r.ScreenSpaceEventType.RIGHT_UP,onWheel:r.ScreenSpaceEventType.WHEEL,onMouseEnter:r.ScreenSpaceEventType.MOUSE_MOVE,onMouseLeave:r.ScreenSpaceEventType.MOUSE_MOVE});const te=({name:i,create:e,destroy:o,provide:n,update:s,cesiumReadonlyProps:l,cesiumEventProps:h,otherProps:p,setCesiumPropsAfterCreate:u,useCommonEvent:f,useRootEvent:C},v,w)=>{const d=c.useRef(),P=B(),L=c.useRef(n?{}:void 0),A=c.useRef({}),$=c.useRef(v),b=c.useRef({}),[q,le]=c.useState(!1),N=c.useRef(!1),J=c.useRef(null),j=c.useRef(),Z=P==null?void 0:P[T],Q=c.useCallback(m=>{var V;if(!d.current)return;const E=d.current,D=Object.keys(m),F=Object.keys(h||[]),k=D.concat(Object.keys(b.current).filter(y=>!D.includes(y))).filter(y=>b.current[y]!==m[y]).map(y=>[y,b.current[y],m[y]]),S=[];for(const[y,X,_]of k)if(l!=null&&l.includes(y))S.push(y);else if(G(F,y)){const Y=h==null?void 0:h[y],H=E[Y];H instanceof r.Event&&(typeof X>"u"?(H.addEventListener(_),A.current[Y]=_):typeof _>"u"?(H.removeEventListener(X),delete A.current[Y]):(H.removeEventListener(X),H.addEventListener(_)))}else y!=="children"&&!z.includes(y)&&!(p!=null&&p.includes(y))&&(E[y]=_);const I=C?(V=L.current)==null?void 0:V[T]:Z;f&&I&&d.current&&I.setEvents(C?null:d.current,m),s&&N.current&&s(d.current,m,b.current,P),b.current=m,$.current=m,N.current&&S.length>0&&(process.env.NODE_ENV!=="production"&&console.warn(`Warning: <${i}> is recreated because following read-only props have been updated: ${S.join(", ")}`),ue(),de())},[]),de=c.useCallback(()=>{var D;const m=e==null?void 0:e(P,$.current,J.current);if(Array.isArray(m)?(d.current=m[0],j.current=m[1]):d.current=m,u)Q($.current);else{if(d.current&&h){const F=d.current;for(const k of Object.keys($.current)){const S=h[k];if(S){const I=$.current[k],V=F[S];I&&V instanceof r.Event&&V.addEventListener(I)}}}b.current=$.current}n&&d.current&&(L.current={...P,...n(d.current,P,v,j.current)});const E=C?(D=L.current)==null?void 0:D[T]:Z;f&&E&&d.current&&E.setEvents(C?null:d.current,$.current)},[]),ue=c.useCallback(()=>{var E,D;d.current&&o&&o(d.current,P,J.current,j.current);const m=C?(E=L.current)==null?void 0:E[T]:Z;if(f&&m&&d.current&&m.clearEvents(C?null:d.current),d.current&&!ne(d.current)){const F=Object.keys(A.current);for(const k of F){const S=d.current[k];(D=S==null?void 0:S.removeEventListener)==null||D.call(S,A.current[k])}}A.current={},L.current=void 0,j.current=void 0,d.current=void 0,le(!1),N.current=!1},[]);return c.useLayoutEffect(()=>(de(),()=>ue()),[]),c.useEffect(()=>{var m,E;q?ie(v,b.current)||(Q(v),(E=(m=P.__$internal)==null?void 0:m.onUpdate)==null||E.call(m)):(b.current=v,$.current=v,le(!0),N.current=!0)},[P.__$internal,q,v,Q]),c.useImperativeHandle(w,()=>({cesiumElement:d.current})),[L.current,q,J]},a=({renderContainer:i,noChildren:e,containerProps:o,defaultProps:n,...s})=>{const l=(h,p)=>{const u={...n,...h},[f,C,v]=te(s,u,p);if(e)return null;const w=C&&"children"in u?u.children:null,d=i?c.createElement("div",{"data-testid":"resium-container",ref:v,...typeof o=="function"?o(u):ee(u,o)},w):w?c.createElement(c.Fragment,null,w):null;return f?c.createElement(U.Provider,{value:f},d):d};return l.displayName=s.name,c.forwardRef(l)},ye=["enabled","selected"],g=i=>a({name:i.name,create(e,o){if(!e.scene)return;const n=i.create(o,e.scene.postProcessStages);return typeof o.enabled=="boolean"&&(n.enabled=o.enabled),o.selected&&"selected"in n&&(n.selected=o.selected),i.props.forEach(s=>{!G(i.readonlyProps,s)&&typeof o[s]<"u"&&(n.uniforms[s]=o[s])}),!i.noMount&&e.scene&&!e.scene.isDestroyed()&&e.scene.postProcessStages.add(n),n},destroy(e,o){i.noMount?e.enabled=!1:(o.scene&&!o.scene.isDestroyed()&&o.scene.postProcessStages.remove(e),e.isDestroyed()||e.destroy())},update(e,o,n){i.props.forEach(s=>{!G(i.readonlyProps,s)&&o[s]!==n[s]&&(e.uniforms[s]=o[s])})},cesiumProps:ye,cesiumReadonlyProps:i.readonlyProps,defaultProps:{enabled:!0}}),pe=i=>c.forwardRef((e,o)=>c.createElement(x,null,n=>c.createElement(i,{...e,ref:o,cesium:n}))),fe=a({name:"Billboard",create(i,e){var o;return(o=i.billboardCollection)==null?void 0:o.add(e)},destroy(i,e){e.billboardCollection&&!e.billboardCollection.isDestroyed()&&e.billboardCollection.remove(i)},cesiumProps:["alignedAxis","color","disableDepthTestDistance","distanceDisplayCondition","eyeOffset","height","heightReference","horizontalOrigin","image","pixelOffset","pixelOffsetScaleByDistance","position","rotation","scale","scaleByDistance","show","sizeInMeters","translucencyByDistance","verticalOrigin","width"],useCommonEvent:!0}),Pe=a({name:"BillboardCollection",create(i,e){if(!i.primitiveCollection)return;const o=new r.BillboardCollection({modelMatrix:e.modelMatrix,debugShowBoundingVolume:e.debugShowBoundingVolume,scene:i.scene,blendOption:e.blendOption});return i.primitiveCollection.add(o),o},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},provide(i){return{billboardCollection:i}},cesiumProps:["blendOption","debugShowBoundingVolume","debugShowTextureAtlas","modelMatrix","show"]}),ge=a({name:"BillboardGraphics",create(i,e){if(!i.entity)return;const o=new r.BillboardGraphics(e);return i.entity.billboard=o,o},destroy(i,e){e.entity&&(e.entity.billboard=void 0)},cesiumProps:["image","show","scale","horizontalOrigin","verticalOrigin","eyeOffset","pixelOffset","rotation","alignedAxis","width","height","color","scaleByDistance","translucencyByDistance","pixelOffsetScaleByDistance","imageSubRegion","sizeInMeters","heightReference","distanceDisplayCondition","disableDepthTestDistance"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),Ce=a({name:"BoxGraphics",create(i,e){if(!i.entity)return;const o=new r.BoxGraphics(e);return i.entity.box=o,o},destroy(i,e){e.entity&&(e.entity.box=void 0)},cesiumProps:["heightReference","dimensions","show","fill","material","outline","outlineColor","outlineWidth","shadows","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),ve=a({name:"Camera",create:i=>{var e;return(e=i.scene)==null?void 0:e.camera},cesiumProps:["position","direction","up","right","frustum","defaultMoveAmount","defaultLookAmount","defaultRotateAmount","defaultZoomAmount","constrainedAxis","maximumZoomFactor","percentageChanged"],cesiumEventProps:{onChange:"changed",onMoveEnd:"moveEnd",onMoveStart:"moveStart"},setCesiumPropsAfterCreate:!0}),Se=O("CameraFlyHome",(i,{duration:e})=>{i.flyHome(e)}),Ee=O("CameraFlyTo",(i,{onComplete:e,onCancel:o,...n})=>{i.flyTo({...n,complete:e,cancel:o})}),we=O("CameraLookAt",(i,{target:e,offset:o})=>{i.lookAt(e,o)}),$e=O("CameraFlyToBoundingSphere",(i,{boundingSphere:e,onComplete:o,onCancel:n,...s})=>{i.flyToBoundingSphere(e,{...s,complete:o,cancel:n})}),be=a({name:"Cesium3DTileset",create(i,e){if(!i.primitiveCollection)return;const o=new r.Cesium3DTileset(e);return e.colorBlendAmount&&(o.colorBlendAmount=e.colorBlendAmount),e.colorBlendMode&&(o.colorBlendMode=e.colorBlendMode),e.style&&(o.style=e.style),e.onReady&&o.readyPromise.then(e.onReady),i.primitiveCollection.add(o),o},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},cesiumProps:["show","modelMatrix","shadows","maximumScreenSpaceError","maximumMemoryUsage","cullRequestsWhileMoving","cullRequestsWhileMovingMultiplier","preloadWhenHidden","preloadFlightDestinations","preferLeaves","progressiveResolutionHeightFraction","foveatedScreenSpaceError","foveatedConeSize","foveatedMinimumScreenSpaceErrorRelaxation","foveatedInterpolationCallback","foveatedTimeDelay","dynamicScreenSpaceError","dynamicScreenSpaceErrorDensity","dynamicScreenSpaceErrorFactor","dynamicScreenSpaceErrorHeightFalloff","skipLevelOfDetail","baseScreenSpaceError","skipScreenSpaceErrorFactor","skipLevels","immediatelyLoadDesiredLevelOfDetail","loadSiblings","clippingPlanes","classificationType","ellipsoid","lightColor","colorBlendAmount","colorBlendMode","debugFreezeFrame","debugColorizeTiles","debugWireframe","debugShowBoundingVolume","debugShowContentBoundingVolume","debugShowViewerRequestVolume","debugShowGeometricError","debugShowRenderingStatistics","debugShowMemoryUsage","debugShowUrl","style","backFaceCulling","vectorClassificationOnly","vectorKeepDecodedPositions","splitDirection","customShader","imageBasedLighting","showCreditsOnScreen","featureIdLabel","instanceFeatureIdLabel","imageBasedLighting","outlineColor"],cesiumReadonlyProps:["url","showOutline","cullWithChildrenBounds","debugHeatmapTilePropertyName","enableDebugWireframe","modelUpAxis","modelForwardAxis","projectTo2D","enableShowOutline"],cesiumEventProps:{onAllTilesLoad:"allTilesLoaded",onInitialTilesLoad:"initialTilesLoaded",onLoadProgress:"loadProgress",onTileFailed:"tileFailed",onTileLoad:"tileLoad",onTileUnload:"tileUnload",onTileVisible:"tileVisible"},otherProps:["onReady"],useCommonEvent:!0}),De=a({name:"Cesium3DTilesetGraphics",create(i,e){if(!i.entity)return;const o=new r.Cesium3DTilesetGraphics(e);return i.entity.tileset=o,o},destroy(i,e){e.entity&&(e.entity.tileset=void 0)},cesiumProps:["show","uri","maximumScreenSpaceError"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),Me=a({name:"CesiumWidget",create(i,e,o){if(!o)return;const n=new r.CesiumWidget(o,e);if(!n)return;typeof e.resolutionScale=="number"&&(n.resolutionScale=e.resolutionScale);const s=new R(n.scene);return[n,s]},destroy(i,e,o,n){n&&!n.isDestroyed()&&n.destroy(),i.isDestroyed()||i.destroy()},provide(i,e,o,n){return{cesiumWidget:i,scene:i.scene,camera:i.scene.camera,imageryLayerCollection:i.scene.globe.imageryLayers,primitiveCollection:i.scene.primitives,globe:i.scene.globe,__$internal:{onUpdate:o==null?void 0:o.onUpdate},[T]:n}},containerProps:({id:i,className:e,style:o,full:n,containerProps:s})=>({className:e,id:i,style:{...n?{position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}:{},...o},...s}),cesiumProps:["resolutionScale","useDefaultRenderLoop","targetFrameRate","useBrowserRecommendedResolution"],cesiumReadonlyProps:["clock","imageryProvider","terrainProvider","skyBox","skyAtmosphere","sceneMode","scene3DOnly","orderIndependentTranslucency","mapMode2D","mapProjection","globe","showRenderLoopErrors","contextOptions","creditContainer","creditViewport","shadows","terrainShadows","requestRenderMode","maximumRenderTimeChange","msaaSamples","blurActiveElementOnCanvasFocus"],otherProps:["className","id","style","full","containerProps"],renderContainer:!0,useCommonEvent:!0,useRootEvent:!0}),Te=a({name:"ClassificationPrimitive",create(i,e){if(!i.primitiveCollection)return;const o=new r.ClassificationPrimitive(e);return e.onReady&&o.readyPromise.then(e.onReady),i.primitiveCollection.add(o),o},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},cesiumProps:["classificationType","debugShowBoundingVolume","debugShowShadowVolume","show"],cesiumReadonlyProps:["allowPicking","asynchronous","compressVertices","geometryInstances","interleave","releaseGeometryInstances","vertexCacheOptimize","appearance"],otherProps:["onReady"],useCommonEvent:!0}),ke=a({name:"Clock",create:i=>{var e;return(e=i.cesiumWidget)==null?void 0:e.clock},cesiumProps:["canAnimate","clockRange","clockStep","currentTime","multiplier","shouldAnimate","startTime","stopTime"],cesiumEventProps:{onStop:"onStop",onTick:"onTick"},setCesiumPropsAfterCreate:!0}),Ge=a({name:"CloudCollection",create:i=>{if(!i.primitiveCollection)return;const e=new r.CloudCollection;return i.primitiveCollection.add(e),e},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},provide:i=>({cloudCollection:i}),cesiumProps:["noiseDetail","noiseOffset","show","debugBillboards","debugEllipsoids"],setCesiumPropsAfterCreate:!0}),Re=a({name:"CorridorGraphics",create(i,e){if(!i.entity)return;const o=new r.CorridorGraphics(e);return e.classificationType&&(o.classificationType=e.classificationType),i.entity.corridor=o,o},destroy(i,e){e.entity&&(e.entity.corridor=void 0)},cesiumProps:["positions","width","cornerType","height","heightReference","extrudedHeight","extrudedHeightReference","show","fill","material","outline","outlineColor","outlineWidth","granularity","shadows","distanceDisplayCondition","zIndex","classificationType"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),Le=a({name:"CumulusCloud",create:(i,e)=>{var o;return(o=i.cloudCollection)==null?void 0:o.add(e)},destroy(i,e){e.cloudCollection&&!e.cloudCollection.isDestroyed()&&e.cloudCollection.remove(i)},cesiumProps:["show","position","scale","maximumSize","slice","brightness","color"]}),Be=a({name:"CustomDataSource",create(i,e){if(!i.dataSourceCollection)return;const o=new r.CustomDataSource(e.name);return e.clustering&&(o.clustering=e.clustering),typeof e.show=="boolean"&&(o.show=e.show),typeof e.clock<"u"&&(o.clock=e.clock),i.dataSourceCollection.add(o),o},destroy(i,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(i)},provide(i){return{entityCollection:i.entities,dataSource:i}},cesiumProps:["clustering","name","show","clock","isLoading"],cesiumEventProps:{onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent"},useCommonEvent:!0}),Oe=a({name:"CylinderGraphics",create(i,e){if(!i.entity)return;const o=new r.CylinderGraphics(e);return i.entity.cylinder=o,o},destroy(i,e){e.entity&&(e.entity.cylinder=void 0)},cesiumProps:["heightReference","length","topRadius","bottomRadius","show","fill","material","outline","outlineColor","outlineWidth","numberOfVerticalLines","slices","distanceDisplayCondition","shadows"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),Ae=["clustering","show"],Fe=["name","sourceUri","credit"],Ie={onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent"},Ve=["onLoad","data"],re=(i,{data:e,onLoad:o,...n})=>{!e||i.load(e,n).then(s=>{o&&o(s)})},_e=a({name:"CzmlDataSource",create(i,e){if(!i.dataSourceCollection)return;const o=new r.CzmlDataSource(e.name);return e.clustering&&(o.clustering=e.clustering),typeof e.show=="boolean"&&(o.show=e.show),i.dataSourceCollection.add(o),e.data&&re(o,e),o},update(i,e,o){e.data?o.show!==e.show&&(i.show=typeof e.show=="boolean"?e.show:!0):i.show=!1,e.data&&(o.data!==e.data||o.sourceUri!==e.sourceUri||o.credit!==e.credit)&&re(i,e)},destroy(i,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(i)},provide(i){return{dataSource:i}},cesiumProps:Ae,cesiumReadonlyProps:Fe,cesiumEventProps:Ie,otherProps:Ve,useCommonEvent:!0}),He=a({name:"EllipseGraphics",create(i,e){if(!i.entity)return;const o=new r.EllipseGraphics(e);return i.entity.ellipse=o,o},destroy(i,e){e.entity&&(e.entity.ellipse=void 0)},cesiumProps:["semiMajorAxis","semiMinorAxis","height","heightReference","extrudedHeight","show","fill","material","outline","outlineColor","outlineWidth","numberOfVerticalLines","rotation","stRotation","granularity","shadows","distanceDisplayCondition","zIndex","classificationType","extrudedHeightReference"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),Ue=a({name:"EllipsoidGraphics",create(i,e){if(!i.entity)return;const o=new r.EllipsoidGraphics(e);return i.entity.ellipsoid=o,o},destroy(i,e){e.entity&&(e.entity.ellipsoid=void 0)},cesiumProps:["heightReference","radii","show","fill","innerRadii","material","maximumClock","maximumCone","minimumClock","minimumCone","outline","outlineColor","outlineWidth","subdivisions","stackPartitions","slicePartitions","shadows","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),We=a({name:"Entity",create(i,e){if(!i.entityCollection)return;const o=new r.Entity(e);return i.viewer&&e.selected&&(i.viewer.selectedEntity=o),i.viewer&&e.tracked&&(i.viewer.trackedEntity=o),i.entityCollection.add(o),o},destroy(i,e){e.entityCollection&&e.entityCollection.remove(i)},update(i,e,o,n){n.viewer&&(e.selected!==o.selected&&(e.selected?n.viewer.selectedEntity=i:n.viewer.selectedEntity===i&&(n.viewer.selectedEntity=void 0)),e.tracked!==o.tracked&&(e.tracked?n.viewer.trackedEntity=i:n.viewer.trackedEntity===i&&(n.viewer.trackedEntity=void 0)))},provide(i){return{entity:i}},cesiumProps:["availability","billboard","box","corridor","cylinder","description","ellipse","ellipsoid","entityCollection","label","model","name","orientation","path","plane","parent","point","polygon","polyline","polylineVolume","position","properties","rectangle","show","tileset","viewFrom","wall"],cesiumReadonlyProps:["id"],cesiumEventProps:{onDefinitionChange:"definitionChanged"},otherProps:["selected","tracked"],useCommonEvent:!0}),ze=({children:i,container:e,resizeInfoBox:o=!0})=>{const{viewer:n,entity:s}=B(),[l,h]=c.useState(!1),p=c.useMemo(()=>{var u;return e??((u=n==null?void 0:n.infoBox.frame.contentDocument)==null?void 0:u.createElement("div"))},[e,n==null?void 0:n.infoBox.frame.contentDocument]);return c.useEffect(()=>{if(!n||!s)return;const u=f=>{h(!!f&&f.id===s.id)};return n.selectedEntityChanged.addEventListener(u),()=>{n.selectedEntityChanged.removeEventListener(u)}},[s,n]),c.useEffect(()=>{var v,w;if(e||!p||!n)return;const u=(v=n.infoBox)==null?void 0:v.frame,f=(w=u==null?void 0:u.contentDocument)==null?void 0:w.querySelector(".cesium-infoBox-description");if(!u||!f)return;let C;if(l){if(o){const d=f.getBoundingClientRect().height;u.style.height=d+"px",C=window.setTimeout(()=>{var P;f.appendChild(p),(P=n.infoBox.container.querySelector(".cesium-infoBox.cesium-infoBox-bodyless"))==null||P.classList.remove("cesium-infoBox-bodyless"),u.style.height=f.getBoundingClientRect().height+"px"},10)}}else p.parentElement===f&&f.removeChild(p);return C?()=>clearTimeout(C):void 0},[p,e,o,l,n]),p?me.createPortal(!e||l?i:null,p):null},Ne=a({name:"Fog",create(i){if(!i.scene)return;const e=new r.Fog;return i.scene.fog=e,e},destroy(i,e){e.scene&&!e.scene.isDestroyed()&&(e.scene.fog=new r.Fog)},cesiumProps:["density","enabled","minimumBrightness","screenSpaceErrorFactor","renderable"],setCesiumPropsAfterCreate:!0}),je=["clustering","name","show"],Ke=["clampToGround","sourceUri","credit","markerSize","markerSymbol","markerColor","stroke","strokeWidth","fill","describe"],qe={onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent"},Je=["onLoad","data"],se=(i,{data:e,onLoad:o,...n})=>{!e||i.load(e,n).then(s=>{o&&o(s)})},Ze=a({name:"GeoJsonDataSource",create(i,e){if(!i.dataSourceCollection)return;const o=new r.GeoJsonDataSource(e.name);return e.clustering&&(o.clustering=e.clustering),typeof e.show=="boolean"&&(o.show=e.show),i.dataSourceCollection.add(o),e.data&&se(o,e),o},update(i,e,o){e.data?o.show!==e.show&&(i.show=typeof e.show=="boolean"?e.show:!0):i.show=!1,e.data&&(o.data!==e.data||o.clampToGround!==e.clampToGround||o.sourceUri!==e.sourceUri||o.credit!==e.credit||o.markerSize!==e.markerSize||o.markerSymbol!==e.markerSymbol||o.markerColor!==e.markerColor||o.stroke!==e.stroke||o.strokeWidth!==e.strokeWidth||o.fill!==e.fill)&&se(i,e)},destroy(i,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(i)},provide(i){return{dataSource:i}},cesiumProps:je,cesiumReadonlyProps:Ke,cesiumEventProps:qe,otherProps:Je,useCommonEvent:!0}),Qe=a({name:"Globe",create:i=>{var e;return(e=i.scene)==null?void 0:e.globe},cesiumProps:["atmosphereBrightnessShift","atmosphereHueShift","atmosphereSaturationShift","backFaceCulling","baseColor","clippingPlanes","depthTestAgainstTerrain","enableLighting","lightingFadeInDistance","lightingFadeOutDistance","material","maximumScreenSpaceError","nightFadeInDistance","nightFadeOutDistance","oceanNormalMapUrl","shadows","show","showGroundAtmosphere","showWaterEffect","terrainProvider","tileCacheSize","loadingDescendantLimit","preloadAncestors","preloadSiblings","fillHighlightColor","dynamicAtmosphereLighting","dynamicAtmosphereLightingFromSun","showSkirts","cartographicLimitRectangle","translucency","undergroundColor","undergroundColorAlphaByDistance","terrainExaggeration","terrainExaggerationRelativeHeight","lambertDiffuseMultiplier","atmosphereLightIntensity","atmosphereRayleighCoefficient","atmosphereMieCoefficient","atmosphereRayleighScaleHeight","atmosphereMieScaleHeight","atmosphereMieAnisotropy"],cesiumEventProps:{onImageryLayersUpdate:"imageryLayersUpdatedEvent",onTerrainProviderChange:"terrainProviderChanged",onTileLoadProgress:"tileLoadProgressEvent"},setCesiumPropsAfterCreate:!0}),Xe=a({name:"GroundPolylinePrimitive",create(i,e){if(!i.primitiveCollection)return;const o=new r.GroundPolylinePrimitive(e);return e.onReady&&o.readyPromise.then(e.onReady),i.primitiveCollection.add(o),o},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},cesiumProps:["appearance","classificationType","debugShowBoundingVolume","debugShowShadowVolume","show"],cesiumReadonlyProps:["allowPicking","asynchronous","geometryInstances","interleave","releaseGeometryInstances"],otherProps:["onReady"],useCommonEvent:!0}),Ye=a({name:"GroundPrimitive",create(i,e){if(!i.primitiveCollection)return;const o=new r.GroundPrimitive(e);return e.onReady&&o.readyPromise.then(e.onReady),i.primitiveCollection.add(o),o},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},cesiumProps:["appearance","classificationType","debugShowBoundingVolume","debugShowShadowVolume","show"],cesiumReadonlyProps:["allowPicking","asynchronous","compressVertices","geometryInstances","interleave","releaseGeometryInstances","vertexCacheOptimize"],otherProps:["onReady"],useCommonEvent:!0}),xe=a({name:"GroundPrimitiveCollection",create:i=>{var e;return(e=i.scene)==null?void 0:e.groundPrimitives},provide:i=>({primitiveCollection:i}),cesiumProps:["show","destroyPrimitives"],setCesiumPropsAfterCreate:!0}),ei=a({name:"ImageryLayer",create(i,e){if(!i.imageryLayerCollection)return;const o=new r.ImageryLayer(e.imageryProvider,e);return i.imageryLayerCollection.add(o),o},destroy(i,e){e.imageryLayerCollection&&e.imageryLayerCollection.remove(i)},cesiumProps:["alpha","brightness","contrast","hue","saturation","gamma","splitDirection","minificationFilter","magnificationFilter","cutoutRectangle","show","nightAlpha","dayAlpha","colorToAlpha","colorToAlphaThreshold"],cesiumReadonlyProps:["imageryProvider","rectangle","maximumAnisotropy","minimumTerrainLevel","maximumTerrainLevel"]}),ii=a({name:"ImageryLayerCollection",create:i=>{var e;return(e=i.globe)==null?void 0:e.imageryLayers},cesiumEventProps:{onLayerAdd:"layerAdded",onLayerMove:"layerMoved",onLayerRemove:"layerRemoved",onLayerShowOrHide:"layerShownOrHidden"}}),oi=["clustering","name","show"],ni=["canvas","camera","ellipsoid","clampToGround","sourceUri","credit","screenOverlayContainer"],ti={onChange:"changedEvent",onError:"errorEvent",onLoading:"loadingEvent",onRefresh:"refreshEvent",onUnsupportedNode:"unsupportedNodeEvent"},ri=["onLoad","data"],ae=(i,{data:e,onLoad:o,...n})=>{!e||i.load(e,n).then(s=>{o&&o(s)})},si=a({name:"KmlDataSource",create(i,e){if(!i.scene||!i.dataSourceCollection||!i.scene)return;const o=new r.KmlDataSource({camera:e.camera||i.scene.camera,canvas:e.canvas||i.scene.canvas,ellipsoid:e.ellipsoid,credit:e.credit});return e.clustering&&(o.clustering=e.clustering),typeof e.show=="boolean"&&(o.show=e.show),typeof e.name<"u"&&(o.name=e.name),i.dataSourceCollection.add(o),e.data&&ae(o,e),o},update(i,e,o){e.data?o.show!==e.show&&(i.show=typeof e.show=="boolean"?e.show:!0):i.show=!1,e.data&&(o.data!==e.data||o.clampToGround!==e.clampToGround||o.ellipsoid!==e.ellipsoid||o.sourceUri!==e.sourceUri||o.credit!==e.credit)&&ae(i,e)},destroy(i,e){e.dataSourceCollection&&!e.dataSourceCollection.isDestroyed()&&e.dataSourceCollection.remove(i)},provide(i){return{dataSource:i}},cesiumProps:oi,cesiumReadonlyProps:ni,cesiumEventProps:ti,otherProps:ri,useCommonEvent:!0}),ai=a({name:"Label",create:(i,e)=>{var o;return(o=i.labelCollection)==null?void 0:o.add(e)},destroy(i,e){e.labelCollection&&!e.labelCollection.isDestroyed()&&e.labelCollection.remove(i)},cesiumProps:["backgroundColor","backgroundPadding","disableDepthTestDistance","distanceDisplayCondition","eyeOffset","fillColor","font","heightReference","horizontalOrigin","outlineColor","outlineWidth","pixelOffset","pixelOffsetScaleByDistance","position","scale","scaleByDistance","show","showBackground","style","text","translucencyByDistance","verticalOrigin"],useCommonEvent:!0}),ci=a({name:"LabelCollection",create(i,e){if(!i.scene||!i.primitiveCollection)return;const o=new r.LabelCollection({scene:i.scene,modelMatrix:e.modelMatrix,blendOption:e.blendOption,debugShowBoundingVolume:e.debugShowBoundingVolume});return i.primitiveCollection.add(o),o},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},provide(i){return{labelCollection:i}},cesiumProps:["blendOption","debugShowBoundingVolume","modelMatrix","show"]}),li=a({name:"LabelGraphics",create(i,e){if(!i.entity)return;const o=new r.LabelGraphics(e);return i.entity.label=o,o},destroy(i,e){e.entity&&(e.entity.label=void 0)},cesiumProps:["text","font","style","fillColor","outlineColor","outlineWidth","show","showBackground","backgroundColor","backgroundPadding","scale","horizontalOrigin","verticalOrigin","eyeOffset","pixelOffset","translucencyByDistance","pixelOffsetScaleByDistance","scaleByDistance","heightReference","distanceDisplayCondition","disableDepthTestDistance"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),di=a({name:"Model",create(i,{scene:e,url:o,colorBlendMode:n,...s}){if(!i.scene||!i.primitiveCollection||!o)return;const l=r.Model.fromGltf({...s,url:o,colorBlendMode:n,scene:e||i.scene});return s.onReady&&l.readyPromise.then(s.onReady),i.primitiveCollection.add(l),l},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},cesiumProps:["backFaceCulling","clampAnimations","clippingPlanes","color","colorBlendAmount","colorBlendMode","customShader","debugShowBoundingVolume","debugWireframe","distanceDisplayCondition","featureIdLabel","heightReference","id","imageBasedLighting","instanceFeatureIdLabel","lightColor","maximumScale","minimumPixelSize","modelMatrix","outlineColor","scale","shadows","show","showCreditsOnScreen","showOutline","silhouetteColor","silhouetteSize","splitDirection","style"],cesiumReadonlyProps:["allowPicking","asynchronous","basePath","credit","enableDebugWireframe","gltf","heightReference","incrementallyLoadTextures","scene","url","releaseGltfJson","cull","opaquePass","upAxis","forwardAxis","content","scene","enableShowOutline","projectTo2D","classificationType"],otherProps:["onReady"],useCommonEvent:!0}),ui=a({name:"ModelGraphics",create(i,e){if(!i.entity)return;const o=new r.ModelGraphics(e);return i.entity.model=o,o},destroy(i,e){e.entity&&(e.entity.model=void 0)},cesiumProps:["uri","show","scale","minimumPixelSize","maximumScale","incrementallyLoadTextures","runAnimations","clampAnimations","nodeTransformations","shadows","heightReference","distanceDisplayCondition","silhouetteColor","silhouetteSize","color","colorBlendMode","colorBlendAmount","clippingPlanes","imageBasedLightingFactor","lightColor","articulations","customShader"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),mi=a({name:"Moon",create(i,e){if(!i.scene)return;const o=new r.Moon(e);return i.scene.moon=o,o},destroy(i,e){e.scene&&!e.scene.isDestroyed()&&(e.scene.moon=new r.Moon)},cesiumProps:["onlySunLighting","show","textureUrl"],cesiumReadonlyProps:["ellipsoid"]}),hi=a({name:"ParticleSystem",create(i,e){if(!i.primitiveCollection)return;const o=new r.ParticleSystem({...e,updateCallback:e.onUpdate});return i.primitiveCollection.add(o),o},update(i,e,o){e.onUpdate!==o.onUpdate&&(i.updateCallback=e.onUpdate)},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i)},cesiumProps:["show","emitter","modelMatrix","emitterModelMatrix","emissionRate","bursts","loop","startScale","endScale","startColor","endColor","image","imageSize","minimumImageSize","maximumImageSize","speed","minimumSpeed","maximumSpeed","lifetime","particleLife","minimumParticleLife","maximumParticleLife","mass","minimumMass","maximumMass","sizeInMeters"],cesiumEventProps:{onComplete:"complete",onUpdate:"updateCallback"}}),yi=a({name:"PathGraphics",create(i,e){if(!i.entity)return;const o=new r.PathGraphics(e);return i.entity.path=o,o},destroy(i,e){e.entity&&(e.entity.path=void 0)},cesiumProps:["leadTime","trailTime","show","width","material","resolution","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),pi=a({name:"PlaneGraphics",create(i,e){if(!i.entity)return;const o=new r.PlaneGraphics(e);return i.entity.plane=o,o},destroy(i,e){e.entity&&(e.entity.plane=void 0)},cesiumProps:["plane","dimensions","show","fill","material","outline","outlineColor","outlineWidth","shadows","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),fi=a({name:"PointGraphics",create(i,e){if(!i.entity)return;const o=new r.PointGraphics(e);return i.entity.point=o,o},destroy(i,e){e.entity&&(e.entity.point=void 0)},cesiumProps:["color","pixelSize","outlineColor","outlineWidth","show","scaleByDistance","translucencyByDistance","heightReference","distanceDisplayCondition","disableDepthTestDistance"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),Pi=a({name:"PointPrimitive",create:(i,e)=>{var o;return(o=i.pointPrimitiveCollection)==null?void 0:o.add(e)},destroy(i,e){e.pointPrimitiveCollection&&!e.pointPrimitiveCollection.isDestroyed()&&e.pointPrimitiveCollection.remove(i)},cesiumProps:["color","disableDepthTestDistance","distanceDisplayCondition","id","outlineColor","outlineWidth","pixelSize","position","scaleByDistance","show","translucencyByDistance"],useCommonEvent:!0}),gi=a({name:"PointPrimitveCollection",create(i,e){if(!i.primitiveCollection)return;const o=new r.PointPrimitiveCollection(e);return i.primitiveCollection.add(o),o},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},provide(i){return{pointPrimitiveCollection:i}},cesiumProps:["blendOption","debugShowBoundingVolume","modelMatrix","show"]}),Ci=a({name:"PolygonGraphics",create(i,e){if(!i.entity)return;const o=new r.PolygonGraphics(e);return i.entity.polygon=o,o},destroy(i,e){e.entity&&(e.entity.polygon=void 0)},cesiumProps:["arcType","hierarchy","height","heightReference","extrudedHeight","extrudedHeightReference","show","fill","material","outline","outlineColor","outlineWidth","stRotation","granularity","perPositionHeight","closeTop","closeBottom","shadows","distanceDisplayCondition","zIndex","classificationType","textureCoordinates"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),vi=a({name:"Polyline",create:(i,e)=>{var o;return(o=i.polylineCollection)==null?void 0:o.add(e)},destroy(i,e){e.polylineCollection&&!e.polylineCollection.isDestroyed()&&e.polylineCollection.remove(i)},cesiumProps:["distanceDisplayCondition","id","loop","material","positions","show","width"],useCommonEvent:!0}),Si=a({name:"PolylineCollection",create(i,e){if(!i.primitiveCollection)return;const o=new r.PolylineCollection({modelMatrix:e.modelMatrix,debugShowBoundingVolume:e.debugShowBoundingVolume,length:e.length,scene:i.scene});return i.primitiveCollection.add(o),o},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},provide(i){return{polylineCollection:i}},cesiumProps:["debugShowBoundingVolume","length","modelMatrix","show"]}),Ei=a({name:"PolylineGraphics",create(i,e){if(!i.entity)return;const o=new r.PolylineGraphics(e);return i.entity.polyline=o,o},destroy(i,e){e.entity&&(e.entity.polyline=void 0)},cesiumProps:["arcType","classificationType","positions","clampToGround","width","show","material","depthFailMaterial","granularity","shadows","distanceDisplayCondition","zIndex"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),wi=a({name:"PolylineVolumeGraphics",create(i,e){if(!i.entity)return;const o=new r.PolylineVolumeGraphics(e);return i.entity.polylineVolume=o,o},destroy(i,e){e.entity&&(e.entity.polylineVolume=void 0)},cesiumProps:["positions","shape","cornerType","show","fill","material","outline","outlineColor","outlineWidth","granularity","shadows","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),$i=a({name:"PostProcessStage",create(i,e){if(!i.scene)return;const o=new r.PostProcessStage(e);return typeof e.enabled=="boolean"&&(o.enabled=e.enabled),e.selected&&(o.selected=e.selected),i.scene.postProcessStages.add(o),o},destroy(i,e){e.scene&&!e.scene.isDestroyed()&&e.scene.postProcessStages.remove(i),i.isDestroyed()||i.destroy()},cesiumProps:["enabled","selected"],cesiumReadonlyProps:["clearColor","forcePowerOfTwo","fragmentShader","name","pixelDatatype","pixelFormat","sampleMode","scissorRectangle","textureScale","uniforms"]}),bi=g({name:"BlackAndWhiteStage",props:["gradations"],create:()=>r.PostProcessStageLibrary.createBlackAndWhiteStage()}),Di=g({name:"BrightnessStage",props:["brightness"],create:()=>r.PostProcessStageLibrary.createBrightnessStage()}),Mi=g({name:"LensFlareStage",props:["dirtTexture","starTexture","intensity","distortion","ghostDispersal","haloWidth","earthRadius"],create:()=>r.PostProcessStageLibrary.createLensFlareStage()}),Ti=g({name:"Fxaa",create:(i,e)=>e.fxaa,props:[]}),ki=g({name:"NightVisionStage",props:[],create:()=>r.PostProcessStageLibrary.createNightVisionStage()}),Gi=a({name:"PostProcessStageComposite",create(i,e){if(!i.scene)return;const o=new r.PostProcessStageComposite(e);return typeof e.enabled=="boolean"&&(o.enabled=e.enabled),e.selected&&(o.selected=e.selected),i.scene.postProcessStages.add(o),o},destroy(i,e){e.scene&&!e.scene.isDestroyed()&&e.scene.postProcessStages.remove(i),i.isDestroyed()||i.destroy()},cesiumProps:["enabled","selected"],cesiumReadonlyProps:["inputPreviousStageTexture","name","stages","uniforms"]}),Ri=g({name:"AmbientOcclusion",create:(i,e)=>e.ambientOcclusion,props:["ambientOcclusionOnly","bias","delta","frustumLength","intensity","lengthCap","sigma","stepSize"],noMount:!0}),Li=g({name:"Bloom",create:(i,e)=>e.bloom,props:["brightness","contrast","delta","glowOnly","sigma","stepSize"],noMount:!0}),Bi=g({name:"BlurStage",props:["delta","sigma","stepSize"],create:()=>r.PostProcessStageLibrary.createBlurStage()}),Oi=g({name:"DepthOfFieldStage",props:["delta","focalDistance","sigma","stepSize"],create:()=>r.PostProcessStageLibrary.createDepthOfFieldStage()}),Ai=g({name:"EdgeDetectionStage",props:["color","length"],create:()=>r.PostProcessStageLibrary.createEdgeDetectionStage()}),Fi=g({name:"SilhouetteStage",props:["color","length"],create:()=>r.PostProcessStageLibrary.createSilhouetteStage()}),Ii=a({name:"Primitive",create(i,e){if(!i.primitiveCollection)return;const o=new r.Primitive(e);return e.onReady&&o.readyPromise.then(e.onReady),i.primitiveCollection.add(o),o},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},cesiumProps:["appearance","cull","debugShowBoundingVolume","depthFailAppearance","modelMatrix","shadows","show"],cesiumReadonlyProps:["allowPicking","asynchronous","compressVertices","geometryInstances","interleave","releaseGeometryInstances","vertexCacheOptimize"],otherProps:["onReady"],useCommonEvent:!0}),Vi=a({name:"RectangleGraphics",create(i,e){if(!i.entity)return;const o=new r.RectangleGraphics(e);return i.entity.rectangle=o,o},destroy(i,e){e.entity&&(e.entity.rectangle=void 0)},cesiumProps:["classificationType","coordinates","height","heightReference","extrudedHeight","extrudedHeightReference","show","fill","material","outline","outlineColor","outlineWidth","rotation","stRotation","granularity","shadows","distanceDisplayCondition","zIndex"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}}),_i=["backgroundColor","completeMorphOnUserInput","debugCommandFilter","debugShowCommands","debugShowDepthFrustum","debugShowFramesPerSecond","debugShowFrustumPlanes","debugShowFrustums","eyeSeparation","farToNearRatio","focalLength","fog","gamma","globe","highDynamicRange","invertClassification","invertClassificationColor","light","logarithmicDepthBuffer","logarithmicDepthFarToNearRatio","maximumRenderTimeChange","minimumDisableDepthTestDistance","moon","morphTime","nearToFarDistance2D","pickTranslucentDepth","requestRenderMode","rethrowRenderErrors","shadowMap","skyAtmosphere","skyBox","specularEnvironmentMaps","sphericalHarmonicCoefficients","sun","sunBloom","terrainProvider","useDepthPicking","useWebVR","postProcessStages","msaaSamples","splitPosition","debugCommandFilter"],Hi={onMorphComplete:"morphComplete",onMorphStart:"morphStart",onPostRender:"postRender",onPreRender:"preRender",onPreUpdate:"preUpdate",onPostUpdate:"postUpdate",onRenderError:"renderError",onTerrainProviderChange:"terrainProviderChanged"},Ui=["mode","morphDuration"],ce=(i,e,o)=>{switch(e){case r.SceneMode.SCENE2D:i.morphTo2D(o);break;case r.SceneMode.COLUMBUS_VIEW:i.morphToColumbusView(o);break;case r.SceneMode.SCENE3D:i.morphTo3D(o);break}},Wi=a({name:"Scene",create(i,e){return i.scene&&e.mode&&ce(i.scene,e.mode,e.morphDuration),i.scene},update(i,e,o){e.mode!==o.mode&&e.mode&&ce(i,e.mode,e.morphDuration)},cesiumProps:_i,cesiumEventProps:Hi,otherProps:Ui,setCesiumPropsAfterCreate:!0}),zi=a({name:"ScreenSpaceCameraController",create:i=>{var e;return(e=i.scene)==null?void 0:e.screenSpaceCameraController},cesiumProps:["bounceAnimationTime","enableCollisionDetection","enableInputs","enableLook","enableRotate","enableTilt","enableTranslate","enableZoom","inertiaSpin","inertiaTranslate","inertiaZoom","lookEventTypes","maximumMovementRatio","maximumZoomDistance","minimumCollisionTerrainHeight","minimumPickingTerrainHeight","minimumTrackBallHeight","minimumZoomDistance","rotateEventTypes","tiltEventTypes","translateEventTypes","zoomEventTypes"],setCesiumPropsAfterCreate:!0}),Ni=({action:i,modifier:e,type:o})=>{const n=B();return c.useEffect(()=>{if(!(!n.screenSpaceEventHandler||n.screenSpaceEventHandler.isDestroyed())){if(i)return n.screenSpaceEventHandler.setInputAction(i,o,e),()=>{!n.screenSpaceEventHandler||n.screenSpaceEventHandler.isDestroyed()||n.screenSpaceEventHandler.removeInputAction(o,e)};n.screenSpaceEventHandler.removeInputAction(o,e)}},[i,n.screenSpaceEventHandler,e,o]),null},ji=a({name:"ScreenSpaceEventHandler",create(i,e){var o;return e.useDefault?(o=i.cesiumWidget)==null?void 0:o.screenSpaceEventHandler:i.scene?new r.ScreenSpaceEventHandler(i.scene.canvas):void 0},destroy(i){i.isDestroyed()||i.destroy()},provide(i){return{screenSpaceEventHandler:i}}}),Ki=a({name:"ShadowMap",create:i=>{var e;return(e=i.scene)==null?void 0:e.shadowMap},cesiumProps:["darkness","fadingEnabled","maximumDistance","enabled","normalOffset","softShadows","size"]}),qi=a({name:"SkyAtmosphere",create:i=>{var e;return(e=i.scene)==null?void 0:e.skyAtmosphere},cesiumProps:["brightnessShift","hueShift","saturationShift","show","perFragmentAtmosphere","atmosphereLightIntensity","atmosphereRayleighCoefficient","atmosphereMieCoefficient","atmosphereRayleighScaleHeight","atmosphereMieScaleHeight","atmosphereMieAnisotropy"],setCesiumPropsAfterCreate:!0}),Ji=a({name:"SkyBox",create:i=>{var e;return(e=i.scene)==null?void 0:e.skyBox},cesiumProps:["sources","show"],setCesiumPropsAfterCreate:!0}),Zi=a({name:"Sun",create(i){if(!i.scene)return;const e=new r.Sun;return i.scene.sun=e,e},destroy(i,e){e.scene&&!e.scene.isDestroyed()&&(e.scene.sun=new r.Sun)},cesiumProps:["glowFactor","show"],setCesiumPropsAfterCreate:!0}),Qi=a({name:"TimeDynamicPointCloud",create(i,e){var n;if(!i.cesiumWidget||!i.primitiveCollection||!((n=i.cesiumWidget)!=null&&n.clock))return;const o=new r.TimeDynamicPointCloud({...e,clock:e.clock??i.cesiumWidget.clock});return e.onReady&&o.readyPromise.then(e.onReady),i.primitiveCollection.add(o),o},destroy(i,e){e.primitiveCollection&&!e.primitiveCollection.isDestroyed()&&e.primitiveCollection.remove(i),i.isDestroyed()||i.destroy()},cesiumProps:["clippingPlanes","maximumMemoryUsage","modelMatrix","shadows","show","style","intervals"],cesiumReadonlyProps:["clock","shading"],cesiumEventProps:{onFrameChange:"frameChanged"},otherProps:["onReady"],useCommonEvent:!0}),Xi=a({name:"Viewer",create(i,{imageryProvider:e,...o},n){if(!n)return;const s=new r.Viewer(n,{...o,imageryProvider:e===!1?void 0:e});if(!s)return;e===!1&&s.imageryLayers.removeAll(),s&&o.extend&&(Array.isArray(o.extend)?o.extend.forEach(h=>{s.extend(h,{})}):s.extend(o.extend,{}));const l=new R(s.scene);return[s,l]},destroy(i,e,o,n){n&&!n.isDestroyed()&&n.destroy(),i.isDestroyed()||i.destroy()},provide(i,e,o,n){return{viewer:i,cesiumWidget:i.cesiumWidget,dataSourceCollection:i.dataSources,entityCollection:i.entities,scene:i.scene,camera:i.scene.camera,imageryLayerCollection:i.scene.globe.imageryLayers,primitiveCollection:i.scene.primitives,globe:i.scene.globe,__$internal:{onUpdate:o==null?void 0:o.onUpdate},[T]:n}},containerProps:({id:i,className:e,style:o,full:n,containerProps:s})=>({className:e,id:i,style:{...n?{position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}:{},...o},...s}),cesiumProps:["terrainProvider","terrainShadows","clockTrackedDataSource","targetFrameRate","useDefaultRenderLoop","resolutionScale","allowDataSourcesToSuspendAnimation","trackedEntity","selectedEntity","shadows","useBrowserRecommendedResolution"],cesiumReadonlyProps:["animation","baseLayerPicker","fullscreenButton","vrButton","geocoder","homeButton","infoBox","sceneModePicker","selectionIndicator","timeline","navigationHelpButton","navigationInstructionsInitiallyVisible","scene3DOnly","shouldAnimate","clockViewModel","selectedImageryProviderViewModel","imageryProviderViewModels","selectedTerrainProviderViewModel","terrainProviderViewModels","imageryProvider","skyBox","skyAtmosphere","fullscreenElement","showRenderLoopErrors","automaticallyTrackDataSourceClocks","contextOptions","sceneMode","mapProjection","globe","orderIndependentTranslucency","creditContainer","creditViewport","dataSources","mapMode2D","projectionPicker","requestRenderMode","maximumRenderTimeChange","depthPlaneEllipsoidOffset","msaaSamples","blurActiveElementOnCanvasFocus"],cesiumEventProps:{onSelectedEntityChange:"selectedEntityChanged",onTrackedEntityChange:"trackedEntityChanged"},otherProps:["className","id","style","full","containerProps","extend"],renderContainer:!0,useCommonEvent:!0,useRootEvent:!0}),Yi=a({name:"WallGraphics",create(i,e){if(!i.entity)return;const o=new r.WallGraphics(e);return i.entity.wall=o,o},destroy(i,e){e.entity&&(e.entity.wall=void 0)},cesiumProps:["positions","maximumHeights","minimumHeights","show","fill","material","outline","outlineColor","outlineWidth","granularity","shadows","distanceDisplayCondition"],cesiumEventProps:{onDefinitionChange:"definitionChanged"}});t.AmbientOcclusion=Ri,t.Billboard=fe,t.BillboardCollection=Pe,t.BillboardGraphics=ge,t.BlackAndWhiteStage=bi,t.Bloom=Li,t.BlurStage=Bi,t.BoxGraphics=Ce,t.BrightnessStage=Di,t.Camera=ve,t.CameraFlyHome=Se,t.CameraFlyTo=Ee,t.CameraFlyToBoundingSphere=$e,t.CameraLookAt=we,t.Cesium3DTileset=be,t.Cesium3DTilesetGraphics=De,t.CesiumContext=U,t.CesiumWidget=Me,t.ClassificationPrimitive=Te,t.Clock=ke,t.CloudCollection=Ge,t.Consumer=x,t.CorridorGraphics=Re,t.CumulusCloud=Le,t.CustomDataSource=Be,t.CylinderGraphics=Oe,t.CzmlDataSource=_e,t.DepthOfFieldStage=Oi,t.EdgeDetectionStage=Ai,t.EllipseGraphics=He,t.EllipsoidGraphics=Ue,t.Entity=We,t.EntityDescription=ze,t.EventManager=R,t.Fog=Ne,t.Fxaa=Ti,t.GeoJsonDataSource=Ze,t.Globe=Qe,t.GroundPolylinePrimitive=Xe,t.GroundPrimitive=Ye,t.GroundPrimitiveCollection=xe,t.ImageryLayer=ei,t.ImageryLayerCollection=ii,t.KmlDataSource=si,t.Label=ai,t.LabelCollection=ci,t.LabelGraphics=li,t.LensFlareStage=Mi,t.Model=di,t.ModelGraphics=ui,t.Moon=mi,t.NightVisionStage=ki,t.ParticleSystem=hi,t.PathGraphics=yi,t.PlaneGraphics=pi,t.PointGraphics=fi,t.PointPrimitive=Pi,t.PointPrimitiveCollection=gi,t.PolygonGraphics=Ci,t.Polyline=vi,t.PolylineCollection=Si,t.PolylineGraphics=Ei,t.PolylineVolumeGraphics=wi,t.PostProcessStage=$i,t.PostProcessStageComposite=Gi,t.Primitive=Ii,t.Provider=he,t.RectangleGraphics=Vi,t.Scene=Wi,t.ScreenSpaceCameraController=zi,t.ScreenSpaceEvent=Ni,t.ScreenSpaceEventHandler=ji,t.ShadowMap=Ki,t.SilhouetteStage=Fi,t.SkyAtmosphere=qi,t.SkyBox=Ji,t.Sun=Zi,t.TimeDynamicPointCloud=Qi,t.Viewer=Xi,t.WallGraphics=Yi,t.createCameraOperation=O,t.createCesiumComponent=a,t.createPostProcessStage=g,t.entries=W,t.eventManagerContextKey=T,t.eventNames=z,t.includes=G,t.isDestroyable=oe,t.isDestroyed=ne,t.pick=ee,t.shallowEquals=ie,t.useCesium=B,t.useCesiumComponent=te,t.withCesium=pe,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
